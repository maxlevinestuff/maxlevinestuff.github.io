<!DOCTYPE html>
<html>

<head>
	<title>Message</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="password.css">
</head>

<body>

	<a id="x" href="javascript:window.history.back();">x</a>

	<div id="main">

		<p>Password required:</p>

		<input id="attempt" type="text"></input>
		<button id="enter-button" onclick="attempt()">Enter</button>

		<p id="hint"></p>
		
	</div>

	<script src="../frame/frame.js"></script>

	<script id="content"></script>

	<script>
		var hint = params.get('hint');
		var pass = params.get('pass');

		if (params.has('x'))
			document.getElementById("x").style.display = "unset";
	</script>

	<script>
		//init and extra here
		document.getElementById("hint").innerHTML = "hint: " + hint;

		function attempt() {
			if (document.getElementById('attempt').value == pass) {
				document.getElementById("hint").style.visibility = "visible";
				document.getElementById("hint").style.color = "green";
				document.getElementById("hint").innerHTML = "success"
				IAmCompleted();
			} else {
				document.getElementById("hint").style.visibility = "visible";
				document.getElementById("attempt").classList.add("apply-shake");
			}
		}

		document.getElementById("attempt").addEventListener("animationend", (e) => {
			input.classList.remove("apply-shake");
		});

		//make enter press button
		// Get the input field
		var input = document.getElementById("attempt");
		// Execute a function when the user releases a key on the keyboard
		input.addEventListener("keyup", function(event) {
			// Number 13 is the "Enter" key on the keyboard
			if (event.keyCode === 13) {
				// Cancel the default action, if needed
				event.preventDefault();
				// Trigger the button element with a click
				document.getElementById("enter-button").click();
			}
		});
	</script>

</body>

</html>